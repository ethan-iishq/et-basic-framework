<!DOCTYPE html>
<html  xmlns="http://www.w3.org/1999/xhtml" xmlns:th="http://www.thymeleaf.org"  
      xmlns:sec="http://www.thymeleaf.org/thymeleaf-extras-springsecurity3">


<head>

    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">


    <title>登录</title>

    <link rel="shortcut icon" href="favicon.ico"> <link href="css/bootstrap.min14ed.css?v=3.3.6" rel="stylesheet">
    <link href="css/font-awesome.min93e3.css?v=4.4.0" rel="stylesheet">

    <link href="css/animate.min.css" rel="stylesheet">
    <link href="css/style.min862f.css?v=4.1.0" rel="stylesheet">
    <script>if(window.top !== window.self){ window.top.location = window.location;}</script>
</head>

<body class="gray-bg">

    <div class="middle-box text-center loginscreen  animated fadeInDown">
        <div>
            <div>

                <h1 class="logo-name">H+</h1>

            </div>
            <h3>欢迎使用 H+</h3>

			<div th:if="${param.error}">Invalid username and password.</div>
			<div th:if="${param.logout}">You have been logged out.</div>

            <form id="loginForm" th:action="@{/login}" method="post">  
	            <div  class="form-group"><label> User Name : <input type="text" name="username"/> </label></div>  
	            <div  class="form-group"><label> Password: <input type="password" name="password"/> </label></div> 
	            <div  class="form-group">
	            	<label> imageCode: <input type="text" name="imageCode" value="666"/> </label>
	            	<img id="captchaId" th:src="@{/captcha-image}" onClick="refresh()" height="50" width="100"/>
	            </div>
	            <div>
	            	<input type="submit" value="Sign In"/>
	            	<button type="button" id="ajaxLoginBtn">ajax login</button>
	            </div>  
	            <div>
	            	<p>Remember me</p>  <input type="checkbox" name="remember-me" value="true" th:checked="checked"/>
	            </div>
	        </form>

			
		</div>
    </div>
    <script src="js/jquery.min.js?v=2.1.4"></script>
    <script src="js/bootstrap.min.js?v=3.3.6"></script>
    <script>
    	function refresh(){
    		var i=Math.random();//目的是使页面不一样 
    		var link = $("#captchaId").attr('src');
    		$("#captchaId").attr('src', link + "?id="+i);
    	}
    	
    	$("#ajaxLoginBtn").click(function(){
    		var value = $("#loginForm").serialize();
    		$.post("/login", value, function(data){
    			if(data.responseCode == "Success"){
    				window.location.href = data.redirectUrl;
    			}else{
    				alert(data.msg);
    			}
    			
    		});
    	});
    </script>
</body>


<!-- Mirrored from www.zi-han.net/theme/hplus/login.html by HTTrack Website Copier/3.x [XR&CO'2014], Wed, 20 Jan 2016 14:18:23 GMT -->
</html>
